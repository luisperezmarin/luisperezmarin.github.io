[{"categories":["How to"],"contents":"En muchos entornos de kvm existe la necesidad de generar respaldos de nuestras maquinas virtuales, pero en entornos donde se utilizaron LVM para proporcionar discos a la maquinas virtuales se vuelve un poco más complejo el proceso.\nPrimero que todo supondremos que tenemos una maquina virtual con nombre vm01 de la cual queremos tener respaldo. Crearemos un directorio en donde almacenar los archivos que iremos generando.\nmkdir /backups/vm01 Ahora el siguiente paso es generar un respaldo de la configuración de nuestra máquina virtual, eso lo haremos utilizando el comando virsh.\nvirsh dumpxml vm01 \u0026gt; /backups/vm01/vm01.xml A partir de aqui necesitamos generar una copia del o los disco(s) duro(s), para esto tenemos 2 métodos. Con el primer método la máquina virtual pasa todo el tiempo apagada mientras se ejecuta el proceso de conversion de LVM a qcow2, mientras que en el método 2 la máquina virtual se apaga solo para generar los snapshot y se queda trabajando sobre dichos discos, pero la limitante de este segundo método es que debemos tener suficiente espacio disponible en el volume group para generar los snapshot.\nMétodo 1   Apagar la máquina virtual.\nvirsh shutdown vm01   Examinar el archivo xml en busca de los discos duros asignados.\nxmllint \u0026#39;/domain/devices/disks/source/\u0026#39; /backups/vm01/vm01.xml   Una vez apagada la máquina virtual convertir el o los disco(s) LVM a qcow2\nqemu-img convert -P -f qcow2 /dev/mapper/Virtual-disk01 /backups/vm01/vm01-disk01.qcow2   Una vez terminado el proceso de conversion de todos los discos de la máquina virtual debemos encenderla.\nvirsh start vm01   Método 2  Apagar la máquina virtual. Generar un snapshot del o los discos de la máquina virtual. Iniciar la máquina virtual. Convertir el o los snaphost de LVM a qcow2. Eliminar los o el snapshot.  ","date":"30","image":"images/post/backup.png","permalink":"https://blog.luisperez.me/blog/how-to-backup-kvm-vm/","tags":["Virtualization","KVM","OracleLinux","LVM"],"title":"Como hacer un respaldo de una Máquina Virtual con LVM como disco duro"},{"categories":["How to"],"contents":"Despues de la noticia del EOL de CentOS 8, necesitamos ver hacia adelante y buscar alternativas de sistemas operativos tan estables como lo fue CentOS hasta ahora, y aunque dificil pensar en las posibles migraciones que se deberan realizar.\nCon esta noticia muchas empresas y personas se lanzaron a la aventura tratando de crear el nuevo CentOS, algunos haciendo nuevos proyectos, algunos otros usando lo que ya tenian. Por mencionar algunos sabores o clones de RHEL dejo el siguiente listado Rocky Linux, AlmaLinux, NavyLinux and Oracle Linux.\nEl ultimo mencionado es el que usaremos en este tutorial, sin embargo estas instrucciones son similares para todas las distribuciones basadas en Red Hat.\nDescarga de la media de instalación Necesitamos navegar a https://yum.oracle.com/oracle-linux-isos.html y seleccionar la ultima version de Oracle Linux 8.\nLorem ipsum dolor sit amet consectetur adipisicing elit. Nemo vel ad consectetur ut aperiam. Itaque eligendi natus aperiam? Excepturi repellendus consequatur quibusdam optio expedita praesentium est adipisci dolorem ut eius!�\n","date":"16","image":"images/post/KVM.png","permalink":"https://blog.luisperez.me/blog/how-to-install-kvm-hypervisor/","tags":["Virtualization","KVM","OracleLinux"],"title":"Cómo instalar y configurar KVM en un servidor Oracle Linux 8"}]